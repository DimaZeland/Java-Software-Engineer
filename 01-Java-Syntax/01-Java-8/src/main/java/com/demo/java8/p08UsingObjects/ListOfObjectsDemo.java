package com.demo.java8.p08UsingObjects;

// ����� ��� �������� �������� � �������:
class MyClass2 {
    // ������������� ����:
    int number;
    // ������ �� ��������� ������ � �������:
    MyClass2 next;
}

// ������� �����:
class ListOfObjectsDemo {
    // ����������� ����� ��� �������� ������� ��������:
    static MyClass2 createList(int n) {
        // �������� ������� �������:
        MyClass2 obj = new MyClass2();
        // ������������� ���� ������� �������:
        obj.number = 1;
        // ������ �� ��������� (� ���� ��� ������������)
        // ������ � �������:
        MyClass2 t = obj;
        // �������� ������� ��������:
        for (int k = 1; k <= n; k++) {
            // ��������� ����� ������ � ������ �� ����
            // ������������ � ���� next ���������� (��
            // ������ ������) ������� � �������:
            t.next = new MyClass2();
            // ���������� �������� ��������� ���� �����
            // ���������� �������:
            t.next.number = t.number * (n - k + 1) / k;
            // ��������� ������ ���������� ��������� ��������
            // � ������� ��������:
            t = t.next;
        }
        // ������ ������ ��� ���� next ����������
        // ������� � �������:
        t.next = null;
        // ��������� ������ - ������ �� ������ ������
        // � �������:
        return obj;
    }

    // ����������� ����� ��� ����������� �������� ��������
    // ����� �������� �� �������:
    static void showList(MyClass2 obj) {
        // ��������� �������� ��������� ����������:
        String txt = "| ";
        // ������ �� ������ ������ � �������:
        MyClass2 t = obj;
        // ���������� � ������ �������� �������� �����:
        do {
            // � ������ ������������ �������� ��������� ����
            // �������, �� ������� ��������� ���������� t:
            txt += t.number + " | ";
            // ���������� t ��������� �� ��������� ������:
            t = t.next;
        } while (t != null);
        // ����������� �������� ������������ �������������:
        System.out.println(txt);
    }

    // ������� ����� ���������:
    public static void main(String[] args) {
        // �������� ������� ��������:
        MyClass2 A = createList(5);
        MyClass2 B = createList(10);
        // ����������� ������������ �������������:
        showList(A);
        showList(B);
    }
}